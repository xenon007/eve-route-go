# Инструкции для разработчиков

Этот файл описывает правила работы над проектом.

## Общие требования
- Код пишем на Go; Kotlin код удалён и не используется.
- Перед коммитом форматируем файлы: `gofmt -w` для Go и `yarn prettier` для фронтенда.
- Логирование через стандартный пакет `log`, избегаем печати в stdout напрямую.
- Экспортируемые функции и структуры сопровождаем комментариями.
- Не помещаем много логики в один файл; дробим на небольшие модули.
- Каждый новый функционал сопровождаем тестами.

## Сборка и тестирование
- Фронтенд собирается командой:
  ```bash
  cd frontend
  NODE_OPTIONS=--openssl-legacy-provider yarn build
  ```
- Получившийся каталог `frontend/dist` вшивается в бинарник.
- Бинарник собирается командой `go build -o eve-route`.
- Проверка тестов: `go test ./...`.

## Коммиты
- Коммитим только осмысленные изменения, сообщение в повелительном наклонении.
- Дерево рабочей копии перед коммитом должно быть чистым.

## Задачи
Переписать код с Kotlin на Golang. Код должен работать точно так же как и оригинальный [проект](https://github.com/tkhamez/eve-route)
- [x] add path distance calculator
- [x] Add route planner translated from Kotlin
- [x] add capital jump planner
- [x] embed capital systems data
- [x] add development guidelines
- [x] Implement capital jump planner with embedded system data
- [x] Реализовать подсчёт общей дистанции маршрута для капитальных кораблей.
- [x] Изучить код на Kotlin и написать задачи для рерайта на Golang
- [ ] Добавить пакет для работы с EVE ESI для Golang
- [ ] Переписать функционал для авторизации
- [ ] Переписать функционал для подсчёта прыжков
- [ ] Переписать функционал для страницы рассчета капитальных прыжков
- [ ] Переписать функционал для работы с базами данных
- [ ] Переписать функционал для работы с теми же переменными окружения, как Kotlin
- [ ] Добавить функцию отображение на карте капитальных прижков.
- [ ] Переписать API маршрутов: `/api/route/location`, `/api/route/map-connections`, `/api/route/avoided-systems`, `/api/route/removed-connections`, `/api/route/avoid-system`, `/api/route/remove-connection`
- [ ] Реализовать API для управления Ansiblex и временными соединениями
- [ ] Реализовать импорт игровых данных и сборку графа
- [ ] Реализовать управление сессиями пользователя и CSRF защиту
- [ ] Напиши дальнейший список задач, которые не указаны в этом списке


## Задача для агента

Изучи проект, как он реализован. чтобы взять уже имеющийся фронтенд, и там добавить раздел Capital Jump Planner, как тут https://evemaps.dotlan.net/jump/Azariel,554/Maila:Todifrauan  , но с имеющейся картой, а не svg.
Перепиши код Kotlin на  Golang и добавь Capital Jump Planner с рассчетом прышков капитальных кораблей. Код на Kotlin удали и обнови информацию по сборке во всех файлах. Пусть собирается один бинарник, с вложенным в него собранным фронтендом.
